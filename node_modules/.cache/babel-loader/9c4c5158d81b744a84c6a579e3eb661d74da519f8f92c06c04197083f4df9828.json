{"ast":null,"code":"// src/services/productService.js\nimport { collection, getDocs, query, where, orderBy, limit } from 'firebase/firestore';\nimport { db } from '../firebase';\nexport const productService = {\n  // Get all active products\n  async getProducts() {\n    try {\n      console.log('üîç Fetching products from Firestore...');\n      const q = query(collection(db, 'products'), where('status', '==', 'active'), orderBy('createdAt', 'desc'));\n      const querySnapshot = await getDocs(q);\n      const products = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      console.log(`‚úÖ Fetched ${products.length} products from Firebase:`, products);\n      return products;\n    } catch (error) {\n      console.error('‚ùå Error fetching products:', error);\n\n      // If there's an error, return sample data as fallback\n      console.log('üì¶ Using sample data as fallback...');\n      return [{\n        id: 'sample-1',\n        name: \"Ocean Breeze Premium Air Freshener\",\n        price: 24.99,\n        images: [{\n          src: \"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=500\"\n        }],\n        description: \"Transform your car with refreshing ocean breeze scent\",\n        category: \"Premium\",\n        scent: \"Ocean Breeze\",\n        rating: 4.8,\n        reviewCount: 124,\n        status: 'active'\n      }];\n    }\n  },\n  // Get featured products\n  async getFeaturedProducts() {\n    try {\n      console.log('üåü Fetching featured products...');\n      const q = query(collection(db, 'products'), where('featured', '==', true), where('status', '==', 'active'), limit(3));\n      const querySnapshot = await getDocs(q);\n      const products = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      console.log(`‚úÖ Fetched ${products.length} featured products`);\n      return products;\n    } catch (error) {\n      console.error('‚ùå Error fetching featured products:', error);\n      return [];\n    }\n  }\n};","map":{"version":3,"names":["collection","getDocs","query","where","orderBy","limit","db","productService","getProducts","console","log","q","querySnapshot","products","docs","map","doc","id","data","length","error","name","price","images","src","description","category","scent","rating","reviewCount","status","getFeaturedProducts"],"sources":["C:/Users/Neoz/OneDrive/Documents/Claude Firebase/carpore-store/src/services/productService.js"],"sourcesContent":["// src/services/productService.js\r\nimport { collection, getDocs, query, where, orderBy, limit } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\nexport const productService = {\r\n  // Get all active products\r\n  async getProducts() {\r\n    try {\r\n      console.log('üîç Fetching products from Firestore...');\r\n      \r\n      const q = query(\r\n        collection(db, 'products'), \r\n        where('status', '==', 'active'),\r\n        orderBy('createdAt', 'desc')\r\n      );\r\n      \r\n      const querySnapshot = await getDocs(q);\r\n      const products = querySnapshot.docs.map(doc => ({ \r\n        id: doc.id, \r\n        ...doc.data() \r\n      }));\r\n      \r\n      console.log(`‚úÖ Fetched ${products.length} products from Firebase:`, products);\r\n      return products;\r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching products:', error);\r\n      \r\n      // If there's an error, return sample data as fallback\r\n      console.log('üì¶ Using sample data as fallback...');\r\n      return [\r\n        {\r\n          id: 'sample-1',\r\n          name: \"Ocean Breeze Premium Air Freshener\",\r\n          price: 24.99,\r\n          images: [{ src: \"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=500\" }],\r\n          description: \"Transform your car with refreshing ocean breeze scent\",\r\n          category: \"Premium\",\r\n          scent: \"Ocean Breeze\",\r\n          rating: 4.8,\r\n          reviewCount: 124,\r\n          status: 'active'\r\n        }\r\n      ];\r\n    }\r\n  },\r\n\r\n  // Get featured products\r\n  async getFeaturedProducts() {\r\n    try {\r\n      console.log('üåü Fetching featured products...');\r\n      \r\n      const q = query(\r\n        collection(db, 'products'),\r\n        where('featured', '==', true),\r\n        where('status', '==', 'active'),\r\n        limit(3)\r\n      );\r\n      \r\n      const querySnapshot = await getDocs(q);\r\n      const products = querySnapshot.docs.map(doc => ({ \r\n        id: doc.id, \r\n        ...doc.data() \r\n      }));\r\n      \r\n      console.log(`‚úÖ Fetched ${products.length} featured products`);\r\n      return products;\r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching featured products:', error);\r\n      return [];\r\n    }\r\n  }\r\n};"],"mappings":"AAAA;AACA,SAASA,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AACtF,SAASC,EAAE,QAAQ,aAAa;AAEhC,OAAO,MAAMC,cAAc,GAAG;EAC5B;EACA,MAAMC,WAAWA,CAAA,EAAG;IAClB,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;MAErD,MAAMC,CAAC,GAAGT,KAAK,CACbF,UAAU,CAACM,EAAE,EAAE,UAAU,CAAC,EAC1BH,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,EAC/BC,OAAO,CAAC,WAAW,EAAE,MAAM,CAC7B,CAAC;MAED,MAAMQ,aAAa,GAAG,MAAMX,OAAO,CAACU,CAAC,CAAC;MACtC,MAAME,QAAQ,GAAGD,aAAa,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;QAC9CC,EAAE,EAAED,GAAG,CAACC,EAAE;QACV,GAAGD,GAAG,CAACE,IAAI,CAAC;MACd,CAAC,CAAC,CAAC;MAEHT,OAAO,CAACC,GAAG,CAAC,aAAaG,QAAQ,CAACM,MAAM,0BAA0B,EAAEN,QAAQ,CAAC;MAC7E,OAAOA,QAAQ;IACjB,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;;MAElD;MACAX,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClD,OAAO,CACL;QACEO,EAAE,EAAE,UAAU;QACdI,IAAI,EAAE,oCAAoC;QAC1CC,KAAK,EAAE,KAAK;QACZC,MAAM,EAAE,CAAC;UAAEC,GAAG,EAAE;QAAkE,CAAC,CAAC;QACpFC,WAAW,EAAE,uDAAuD;QACpEC,QAAQ,EAAE,SAAS;QACnBC,KAAK,EAAE,cAAc;QACrBC,MAAM,EAAE,GAAG;QACXC,WAAW,EAAE,GAAG;QAChBC,MAAM,EAAE;MACV,CAAC,CACF;IACH;EACF,CAAC;EAED;EACA,MAAMC,mBAAmBA,CAAA,EAAG;IAC1B,IAAI;MACFtB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAE/C,MAAMC,CAAC,GAAGT,KAAK,CACbF,UAAU,CAACM,EAAE,EAAE,UAAU,CAAC,EAC1BH,KAAK,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,EAC7BA,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,EAC/BE,KAAK,CAAC,CAAC,CACT,CAAC;MAED,MAAMO,aAAa,GAAG,MAAMX,OAAO,CAACU,CAAC,CAAC;MACtC,MAAME,QAAQ,GAAGD,aAAa,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;QAC9CC,EAAE,EAAED,GAAG,CAACC,EAAE;QACV,GAAGD,GAAG,CAACE,IAAI,CAAC;MACd,CAAC,CAAC,CAAC;MAEHT,OAAO,CAACC,GAAG,CAAC,aAAaG,QAAQ,CAACM,MAAM,oBAAoB,CAAC;MAC7D,OAAON,QAAQ;IACjB,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3D,OAAO,EAAE;IACX;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}